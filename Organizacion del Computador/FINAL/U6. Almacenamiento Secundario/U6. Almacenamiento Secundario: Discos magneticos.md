# U6 - Almacenamiento Secundario: Discos magneticos

Plato circular construido de un material no magnético, llamado substrato (aluminio o vidrio), cubierto por un material magnetizable

### Mecanismos de lectura/escritura magnético
Tenian una cabeza de lectura/escritura única: bobina conductora estática, el disco está girando constantemente debajo de ella. Y era usado en los viejos discos rígidos y floppy disk.

Actualmente la cabeza de lectura esta diferenciada de la de escritura
- Tiene un sensor magneto-resistivo (MR)
- La resistencia eléctrica del material depende de la dirección de la magnetización del medio que se mueve por debajo
- Se hace pasar una corriente a través del sensor MR y los cambios de resistencia se detectan como señales de voltaje
- Provee mayores densidades de grabación y velocidades de operación que el mecanismo anterior

![dddd](https://github.com/user-attachments/assets/ebb9078a-e2f5-4f88-a6b8-ad24f902f867)

#### Lectura
Cada cubito (los que dicen N (norte) S (sur)) almacenan 1 bit y la flecha que tienen indica la polaridad del magnetismo. Si la polaridad (la flechita) va para un lado o para el otro el MR va a resistir mas o menos corriente, se censa esa corriente y se define si en el bloquecito hay un 1 o un 0.
#### Escritura
A traves de una bovina conductora con material que hace que circule corriente electrica se genera un campo magnetico y los patrones magneticos resultantes (definiendose un N o S) se graban en la superficie.

## Organizacion
- Pistas concéntricas
- El ancho de la pista es igual al ancho de la cabeza lectora/grabadora
- Entre las pistas hay un gap (**Intertrack gap**) para minimizar errores de desalineamiento de la cabeza e interferencias magnéticas
- La superficie del disco está subdividida en sectores, en general de tamaño fijo (512 bytes)
- Hay un gap (**Intersector gap**) entre los sectores para evitar errores de sincronización

![eeee](https://github.com/user-attachments/assets/3c15c688-6597-4e5b-86fe-92716eaa6b25)

- **CAV** (Constant Angular Velocity): el disco gira a velocidad constante. Entonces la cabeza lectora/grabadora puede operar a la misma tasa de transferencia.
- Los bits exteriores giran a mayor velocidad que los interiores (velocidad lineal variable). Pero para compensar, los bits exteriores están más espaciados entre sí
- **Ventaja:** se puede referenciar a cada bloque de información a través de pista/sector
- **Desventaja:** no se aprovecha el máximo de densidad (bits por pulgada lineal) de la superficie del disco por el espacio entre sectores

### Grabacion multizona
- La superficie del disco se divide en zonas concéntricas (por lo general 16). 
- La cantidad de bits por pista dentro de una zona es constante
- Las zonas exteriores contienen más bits por pulgada (más sectores) que las zonas interiores
- **Ventaja:** mayor capacidad de almacenamiento. En este tipo de organizacion aparecen mas sectores
- **Desventajas:** mayor complejidad en la circuitería para trabajar con tiempos de lectura/escritura diferentes según la zona (la longitud de los bits varía)

![ffff](https://github.com/user-attachments/assets/f91b7891-d308-4411-a1aa-0ea5af0bbb10)

![gggg](https://github.com/user-attachments/assets/e3456dc1-fd88-41d1-9ca9-6c3f580819fb)

## Caracteristicas fisicas

### Movimiento de la cabeza
- **Fija:** había una cabeza lectora/grabadora por pista (muy costosos, no se usan más) Ej. IBM 2305
- **Móvil:** hay una única cabeza lectora/grabadora por superficie del plato. Se mueve por todas las pistas y está montada en un brazo

![hhhh](https://github.com/user-attachments/assets/04a2901b-9d4d-4adc-8b84-6ced5f2d146a)

Todas las cabezas por disco funcionan igual, sincronizadas, hay una cabeza por cada superficie.

### Portabilidad
- **Discos no removibles:** disco rígido (se monta en un disk drive)
- **Removibles:** se puede sacar y poner en la unidad (Ej. floppy disk)

### Lados
- **Un solo lado:** solo es usable una cara
- **Dos lados:** el recubrimiento magnético está en ambas caras

 ### Platos
- **Un solo plato**
- **Múltiples platos:** varios discos en un mismo disk drive
- **Cilindro:** conjunto de pistas que están a la misma distancia relativa del centro en los platos de un disk drive

### Mecanismo de la cabeza
- **Contacto:** toma contacto con la superficie del disco (Ej. floppy)
- **Espacio fijo:** se ubica a una posición fija por encima del disco
- **Espacio aerodinámico (flotante):** se ubica flotante por sobre el disco gracias a la presión de aire que genera la rotación del disco

## Parámetros de performance
- <ins>Desempeño del disco:</ins> depende del computador, sistema operativo, módulo de E/S y controlador de disco
- <ins>Tiempo de seek:</ins> para leer o grabar en el disco tiene que suceder un evento temporal, ese evento es el *tiempo de seek*: tiempo necesario para mover la cabeza lectora/grabadora a la pista deseada
- <ins>Tiempo de demora rotacional o latencia:</ins> tiempo de espera hasta que el sector deseado pasa por la cabeza lectora/grabadora
- <ins>Tiempo de acceso:</ins> tiempo necesario para estar en posición para escribir o leer
    - `Tiempo acceso = tiempo de seek promedio + tiempo de latencia promedio`
- <ins>Tiempo de transferencia:</ins> tiempo necesario para transferir la información al disco
    - `T = b/rN` donde `T` = tiempo de transf.; `b` = bytes a transf.; `r` = velocidad de rotación en revoluciones por segundo; `N` = bytes por pista
- <ins>Tiempo total lectura/escritura</ins>: es el `tiempo de latencia`
    - `T = Tseek + 1 / 2r + b / rN` donde `r` = velocidad de rotación en revoluciones por segundo; `b` = bytes a transferir; `N` = bytes por pista




